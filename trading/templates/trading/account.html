{% extends "base.html" %}
{% load static %}

{% block title %}{% bilingual "Account Center" "账户中心" %}{% endblock %}

{% block extra_head_after_theme %}
<link rel="stylesheet" href="{% static 'trading/css/account_center_v2.css' %}?v={{ STATIC_VERSION|default:'20260211-account-v2' }}">
{% endblock %}

{% block content %}
<div class="account-page container-xl ac-scope ac-v2" data-active-tab="overview">
    <div class="account-shell">
        <div class="account-main">
            {% include "trading/includes/account/header_compact.html" %}
            {% if messages %}
                <div class="account-flash mt-3">
                    {% for message in messages %}
                        {% if "error" in message.tags %}
                            <div class="alert alert-danger mb-2">{{ message }}</div>
                        {% elif "success" in message.tags %}
                            <div class="alert alert-success mb-2">{{ message }}</div>
                        {% elif "warning" in message.tags %}
                            <div class="alert alert-warning mb-2">{{ message }}</div>
                        {% else %}
                            <div class="alert alert-info mb-2">{{ message }}</div>
                        {% endif %}
                    {% endfor %}
                </div>
            {% endif %}

            {% include "trading/includes/account/tabs_nav.html" %}

            <div class="account-tab-panels">
                {% include "trading/includes/account/tab_overview.html" %}
                {% include "trading/includes/account/tab_activity.html" %}
                {% include "trading/includes/account/tab_history.html" %}
                {% include "trading/includes/account/tab_settings.html" %}
            </div>
        </div>
    </div>
</div>

{% include "trading/includes/account/modals.html" %}
{% endblock %}

{% block extra_scripts %}
<script src="{% static 'trading/js/account_tabs.js' %}?v={{ STATIC_VERSION|default:'20260211-account-tabs-v2' }}" nonce="{{ csp_nonce }}" defer></script>
<script src="{% static 'trading/js/history_delete.js' %}?v={{ STATIC_VERSION|default:'1' }}" nonce="{{ csp_nonce }}" defer></script>
<script src="{% static 'trading/js/history_meta.js' %}?v={{ STATIC_VERSION|default:'1' }}" nonce="{{ csp_nonce }}" defer></script>
<script src="{% static 'trading/js/profile_cropper.js' %}?v={{ STATIC_VERSION|default:'1' }}" nonce="{{ csp_nonce }}" defer></script>
<script src="{% static 'trading/js/paper_trading.js' %}?v={{ STATIC_VERSION|default:'1' }}" nonce="{{ csp_nonce }}" defer></script>
<script src="{% static 'trading/js/account_data_source.js' %}?v={{ STATIC_VERSION|default:'20260211-account-data-source-v2' }}" nonce="{{ csp_nonce }}" defer></script>
<script src="{% static 'trading/js/account_ui.js' %}?v={{ STATIC_VERSION|default:'20260211-account-ui-v1' }}" nonce="{{ csp_nonce }}" defer></script>
{% endblock %}
